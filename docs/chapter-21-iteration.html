<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Data Science Solution Set</title>
  <meta name="description" content="R for Data Science Solution Set">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R for Data Science Solution Set" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Data Science Solution Set" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="chapter-19-functions.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.1/str_view.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html"><i class="fa fa-check"></i>Chapter 3 - Data Visualisation</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#first-steps"><i class="fa fa-check"></i>3.2 - First Steps</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i>3.3 - Aesthetic Mappings</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-1"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-1"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-1"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-1"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-1"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-6"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#facets"><i class="fa fa-check"></i>3.5 - Facets</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-2"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-2"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-2"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-2"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-2"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-6-1"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#geometric-objects"><i class="fa fa-check"></i>3.6 - Geometric Objects</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-3"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-3"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-3"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-3"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-3"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-6-2"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i>3.7 - Statistical Transformations</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-4"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-4"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-4"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-4"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-4"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#position-adjustments"><i class="fa fa-check"></i>3.8 - Position Adjustments</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-5"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-5"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-5"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-5"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i>3.9 - Coordinate Systems</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-6"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-6"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-6"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-6"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html"><i class="fa fa-check"></i>Chapter 5 - Data Transformation</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i>5.2 - Filter Rows with filter()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-7"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-7"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-7"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-7"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i>5.3 - Arrange Rows with arrange()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-8"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-8"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-8"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-8"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i>5.4 - Select Columns with select()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-9"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-9"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-9"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-9"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i>5.5 - Add New Variables with mutate()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-10"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-10"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-10"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-10"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-5-5"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-6-3"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i>5.6 - Grouped summaries with summarise()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-11"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-11"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-11"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-11"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-5-6"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-6-4"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#grouped-mutates-and-filters"><i class="fa fa-check"></i>5.7 - Grouped Mutates (and Filters)</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-12"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-12"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-12"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-12"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-5-7"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-6-5"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-7"><i class="fa fa-check"></i>Problem 7</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-8"><i class="fa fa-check"></i>Problem 8</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html"><i class="fa fa-check"></i>Chapter 7 - Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#variation"><i class="fa fa-check"></i>7.3 - Variation</a><ul>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-1-13"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-2-13"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-3-13"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-4-13"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#missing-values"><i class="fa fa-check"></i>7.4 - Missing Values</a><ul>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-1-14"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-2-14"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html"><i class="fa fa-check"></i>Chapter 10 - Tibbles</a><ul>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#exercises"><i class="fa fa-check"></i>10.5 - Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-1-15"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-2-15"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-3-14"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-4-14"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-5-8"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-6-6"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html"><i class="fa fa-check"></i>Chapter 11 - Data Import</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#getting-started"><i class="fa fa-check"></i>11.2 - Getting Started</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-1-16"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-2-16"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-3-15"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-4-15"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-5-9"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#parsing-a-vector"><i class="fa fa-check"></i>11.3 - Parsing a Vector</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-1-17"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-2-17"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-3-16"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-4-16"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-5-10"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-6-7"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-7-1"><i class="fa fa-check"></i>Problem 7</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html"><i class="fa fa-check"></i>Chapter 12 - Tidy Data</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#tidy-data"><i class="fa fa-check"></i>12.2 - Tidy Data</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-1-18"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-2-18"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-3-17"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i>12.3 - Spreading and Gathering</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-1-19"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-2-19"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-3-18"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-4-17"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#spreading-and-uniting"><i class="fa fa-check"></i>12.4 - Spreading and Uniting</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-1-20"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-2-20"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-3-19"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html"><i class="fa fa-check"></i>Chapter 13 - Relational data</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#nycflights13"><i class="fa fa-check"></i>13.2 - nycflights13</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-21"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-21"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-20"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-18"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#keys"><i class="fa fa-check"></i>13.3 - Keys</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-22"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-22"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-21"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-19"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#mutating-joins"><i class="fa fa-check"></i>13.4 - Mutating joins</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-23"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-23"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-22"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-20"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-5-11"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#filtering-joins"><i class="fa fa-check"></i>13.5 - Filtering joins</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-24"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-24"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-23"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-21"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-5-12"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-6-8"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html"><i class="fa fa-check"></i>Chapter 14 - Strings</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#string-basics"><i class="fa fa-check"></i>14.2 - String basics</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-25"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-25"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-24"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-4-22"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-5-13"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-6-9"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-26"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-26"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-25"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#anchors"><i class="fa fa-check"></i>14.3.2 - Anchors</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-27"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-27"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i>14.3.2 - Character classes and alternatives</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-28"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-28"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-26"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-4-23"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-5-14"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#repetition"><i class="fa fa-check"></i>14.3.4 - Repetition</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-29"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-29"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-27"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-4-24"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#grouping-and-backreferences"><i class="fa fa-check"></i>14.3.5 - Grouping and backreferences</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-30"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-30"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#tools"><i class="fa fa-check"></i>14.4 - Tools</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-31"><i class="fa fa-check"></i>Problem 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#extract-matches"><i class="fa fa-check"></i>14.4.3 - Extract Matches</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-32"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-31"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#grouped-matches"><i class="fa fa-check"></i>14.4.4 - Grouped matches</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-33"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-32"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#replacing-matches"><i class="fa fa-check"></i>14.4.5 - Replacing matches</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-34"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-33"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-28"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#splitting"><i class="fa fa-check"></i>14.4.6 - Splitting</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-35"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-34"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-29"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#other-types-of-pattern"><i class="fa fa-check"></i>14.5 - Other types of pattern</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-36"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-35"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i>14.6 - Other uses of regular expressions</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-37"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-36"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html"><i class="fa fa-check"></i>Chapter 15 - Factors</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#general-social-survey"><i class="fa fa-check"></i>15.3 - General Social Survey</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-1-38"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-2-37"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-3-30"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#modifying-factor-order"><i class="fa fa-check"></i>15.4 - Modifying factor order</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-1-39"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-2-38"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-3-31"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#modifying-factor-levels"><i class="fa fa-check"></i>15.5 - Modifying factor levels</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-1-40"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-2-39"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html"><i class="fa fa-check"></i>Chapter 16 - Dates and times</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i>16.2 - Creating date/times</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-1-41"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-2-40"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-3-32"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#date-time-components"><i class="fa fa-check"></i>16.3 - Date-time components</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-1-42"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-2-41"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-3-33"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-4-25"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-5-15"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-6-10"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-7-2"><i class="fa fa-check"></i>Problem 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#time-spans"><i class="fa fa-check"></i>16.4 - Time spans</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-1-43"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-2-42"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-3-34"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-4-26"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-5-16"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html"><i class="fa fa-check"></i>Chapter 19 - Functions</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i>19.2 - When should you write a function?</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-44"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-43"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-35"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-27"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-5-17"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-6-11"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-7-3"><i class="fa fa-check"></i>Problem 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i>19.3 - Functions are for humans and computers</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-45"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-44"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-36"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-28"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#conditional-execution"><i class="fa fa-check"></i>19.4 - Conditional execution</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-46"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-45"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-37"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-29"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-5-18"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-6-12"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#function-arguments"><i class="fa fa-check"></i>19.5 - Function arguments</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-47"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-46"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-38"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-30"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html"><i class="fa fa-check"></i>Chapter 21 - Iteration</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#for-loops"><i class="fa fa-check"></i>21.2 For loops</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-48"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-47"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-39"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-4-31"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#for-loop-variations"><i class="fa fa-check"></i>21.3 For loop variations</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-49"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-48"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-40"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-4-32"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#for-loops-vs.functionals"><i class="fa fa-check"></i>21.4 For loops vs.functionals</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-50"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-49"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#the-map-functions"><i class="fa fa-check"></i>21.5 The map functions</a><ul>
<li class="chapter" data-level="0.0.1" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-51"><i class="fa fa-check"></i><b>0.0.1</b> Problem 1</a></li>
<li class="chapter" data-level="0.0.2" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-50"><i class="fa fa-check"></i><b>0.0.2</b> Problem 2</a></li>
<li class="chapter" data-level="0.0.3" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-41"><i class="fa fa-check"></i><b>0.0.3</b> Problem 3</a></li>
<li class="chapter" data-level="0.0.4" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-4-33"><i class="fa fa-check"></i><b>0.0.4</b> Problem 4</a></li>
<li class="chapter" data-level="0.0.5" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-5-19"><i class="fa fa-check"></i><b>0.0.5</b> Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i>21.9 Other patterns of for loops</a><ul>
<li class="chapter" data-level="0.0.6" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-52"><i class="fa fa-check"></i><b>0.0.6</b> Problem 1</a></li>
<li class="chapter" data-level="0.0.7" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-51"><i class="fa fa-check"></i><b>0.0.7</b> Problem 2</a></li>
<li class="chapter" data-level="0.0.8" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-42"><i class="fa fa-check"></i><b>0.0.8</b> Problem 3</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science Solution Set</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-21---iteration" class="section level1 unnumbered">
<h1>Chapter 21 - Iteration</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(stringr)
<span class="kw">library</span>(purrr)</code></pre></div>
<div id="for-loops" class="section level2 unnumbered">
<h2>21.2 For loops</h2>
<div id="problem-1-48" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Write a for loop to compute the mean of every column in mtcars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="kw">ncol</span>(mtcars))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(mtcars)) {
  x[[i]] &lt;-<span class="st"> </span><span class="kw">mean</span>(mtcars[[i]])
}</code></pre></div>
<p>Write a for loop to determine the type of each column in nycflights13::flights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;character&quot;</span>, <span class="kw">ncol</span>(nycflights13<span class="op">::</span>flights))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(nycflights13<span class="op">::</span>flights)) {
  x[[i]] &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="kw">class</span>(nycflights13<span class="op">::</span>flights[[i]]), <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)
}</code></pre></div>
<p>Write a for loop to compute the number of unique values in each column of iris.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;integer&quot;</span>, <span class="kw">ncol</span>(iris))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(iris)) {
  x[[i]] &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(iris[[i]]))
}</code></pre></div>
<p>Write a for loop to generate 10 random normals for each of mean = -10, 0, 10, 100.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">means &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="kw">rep</span>(<span class="dv">10</span>, <span class="dv">10</span>), <span class="kw">rep</span>(<span class="dv">100</span>, <span class="dv">10</span>))
x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="dv">40</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(means)) {
  x[[i]] &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1</span>, means[[i]])
}</code></pre></div>
</div>
<div id="problem-2-47" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>Eliminate the for loop in each of the following examples by taking advantage of an existing function that works with vectors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">out &lt;-<span class="st"> &quot;&quot;</span>
<span class="cf">for</span> (x <span class="cf">in</span> letters) {
  out &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_c</span>(out, x)
}

<span class="kw">str_c</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">26</span>], <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;abcdefghijklmnopqrstuvwxyz&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">100</span>)
sd &lt;-<span class="st"> </span><span class="dv">0</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(x)) {
  sd &lt;-<span class="st"> </span>sd <span class="op">+</span><span class="st"> </span>(x[i] <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x)) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>
}
sd &lt;-<span class="st"> </span><span class="kw">sqrt</span>(sd <span class="op">/</span><span class="st"> </span>(<span class="kw">length</span>(x) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>))

<span class="kw">sd</span>(x)</code></pre></div>
<pre><code>## [1] 29.01149</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">100</span>)
out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="kw">length</span>(x))
out[<span class="dv">1</span>] &lt;-<span class="st"> </span>x[<span class="dv">1</span>]
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="kw">length</span>(x)) {
  out[i] &lt;-<span class="st"> </span>out[i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>x[i]
}

<span class="kw">cumsum</span>(x)</code></pre></div>
<pre><code>##   [1]  0.6491359  1.1189467  1.9836567  2.6281408  2.8601745  3.7842518
##   [7]  3.8785881  4.1077402  4.3098596  5.1572951  5.8187330  6.3710691
##  [13]  7.3503414  7.6334977  7.7088672  8.4843921  9.3941163 10.3443280
##  [19] 10.8723795 11.3322107 11.4186022 11.8683037 12.7353834 13.4867984
##  [25] 14.3308043 14.5164748 14.6462585 14.9083421 15.8664168 16.8531047
##  [31] 17.3578829 17.7606797 17.8265363 18.5644014 19.1751086 19.8533481
##  [37] 19.9765075 20.2753464 20.8749396 21.6541861 22.3415827 22.9922229
##  [43] 23.7571154 24.2595636 24.6167492 25.2993760 25.8520014 25.9827640
##  [49] 26.5286731 26.8632338 27.7237207 28.6405882 29.2140815 30.0120071
##  [55] 30.1440027 30.5948993 30.9036359 31.5594255 32.3788071 32.5965569
##  [61] 32.9371783 33.2865887 34.1277014 34.2057202 34.6154503 35.3882793
##  [67] 36.0449687 36.7061307 36.7564339 37.7079828 38.6564586 39.6240817
##  [73] 39.7509596 40.5543907 40.7539901 41.3358658 41.7431942 42.6997809
##  [79] 43.3635022 44.3321069 44.3832789 45.3455916 46.1264129 46.5855531
##  [85] 47.5265705 47.6496660 48.3306021 49.1509863 49.6676351 50.4511858
##  [91] 50.9520125 51.6684470 52.4115732 53.0381338 53.7733257 54.3519036
##  [97] 54.9787012 55.3942718 56.3008661 57.0864922</code></pre>
</div>
<div id="problem-3-39" class="section level3 unnumbered">
<h3>Problem 3</h3>
<p>Write a for loop that prints() the lyrics to the childrens song Alice the camel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">humps &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;five&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;one&quot;</span>, <span class="st">&quot;no&quot;</span>)

y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;character&quot;</span>, <span class="dv">6</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(humps)) {
  x &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(<span class="kw">str_c</span>(<span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Alice the camel has x humps; &quot;</span>, <span class="dv">3</span>), <span class="st">&quot;So go, Alice, go. &quot;</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>), <span class="st">&quot;x&quot;</span>, humps)
}
<span class="kw">print</span>(<span class="kw">str_c</span>(<span class="kw">c</span>(x, <span class="st">&quot; Now Alice has no humps!&quot;</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;Alice the camel has five humps; Alice the camel has five humps; Alice the camel has five humps; So go, Alice, go. Alice the camel has four humps; Alice the camel has four humps; Alice the camel has four humps; So go, Alice, go. Alice the camel has three humps; Alice the camel has three humps; Alice the camel has three humps; So go, Alice, go. Alice the camel has two humps; Alice the camel has two humps; Alice the camel has two humps; So go, Alice, go. Alice the camel has one humps; Alice the camel has one humps; Alice the camel has one humps; So go, Alice, go. Alice the camel has no humps; Alice the camel has no humps; Alice the camel has no humps; So go, Alice, go.  Now Alice has no humps!&quot;</code></pre>
<p>Convert the nursery rhyme ten in the bed to a function. Generalise it to any number of people in any sleeping structure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">roll_bed &lt;-<span class="st"> </span><span class="cf">function</span>(n, structure) {
  
n &lt;-<span class="st"> </span>n<span class="op">:</span><span class="dv">2</span> 
y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="kw">length</span>(n))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(n)) {
  y &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;There were &quot;</span>,n,<span class="st">&quot; in the &quot;</span>,structure,<span class="st">&quot; and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot;</span>)
}
y &lt;-<span class="st"> </span><span class="kw">c</span>(y, <span class="kw">str_c</span>(<span class="st">&quot;There was 1 in the &quot;</span>, structure, <span class="st">&quot; and the little one said, &#39;Alone at last!&#39;&quot;</span>))
 <span class="kw">print</span>(y)
}
<span class="kw">roll_bed</span>(<span class="dv">10</span>, <span class="st">&quot;bed&quot;</span>)</code></pre></div>
<pre><code>##  [1] &quot;There were 10 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot;
##  [2] &quot;There were 9 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [3] &quot;There were 8 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [4] &quot;There were 7 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [5] &quot;There were 6 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [6] &quot;There were 5 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [7] &quot;There were 4 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [8] &quot;There were 3 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
##  [9] &quot;There were 2 in the bed and the little one said, &#39;Roll over! Roll over!&#39; So they all rolled over and  none fell out.&quot; 
## [10] &quot;There was 1 in the bed and the little one said, &#39;Alone at last!&#39;&quot;</code></pre>
<p>Convert the song 99 bottles of beer on the wall to a function. Generalise to any number of any vessel containing any liquid on any surface.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">beer_wall &lt;-<span class="st"> </span><span class="cf">function</span>(n, liquid) {

n &lt;-<span class="st"> </span>n<span class="op">:</span><span class="dv">1</span>
y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="kw">length</span>(n))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(n)) {
  y &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(<span class="kw">str_c</span>(n, <span class="st">&quot; bottles of beer on the wall, &quot;</span>, n, <span class="st">&quot; bottles of beer. Take one down and pass it around, &quot;</span>, (n<span class="op">-</span><span class="dv">1</span>),<span class="st">&quot; bottles of beer on the wall.&quot;</span>), <span class="st">&quot;beer&quot;</span>, liquid)
}
n &lt;-<span class="st"> </span>n[<span class="dv">1</span>]
y &lt;-<span class="st"> </span><span class="kw">c</span>(y, <span class="kw">str_replace_all</span>(<span class="kw">str_c</span>(<span class="st">&quot;No more bottles of beer on the wall, no more bottles of beer. Go to the store and buy some more, &quot;</span>, n, <span class="st">&quot; bottles of beer on the wall.&quot;</span>), <span class="st">&quot;beer&quot;</span>, liquid))
 <span class="kw">print</span>(y)
}
<span class="kw">beer_wall</span>(<span class="dv">10</span>, <span class="st">&quot;beer&quot;</span>)</code></pre></div>
<pre><code>##  [1] &quot;10 bottles of beer on the wall, 10 bottles of beer. Take one down and pass it around, 9 bottles of beer on the wall.&quot;            
##  [2] &quot;9 bottles of beer on the wall, 9 bottles of beer. Take one down and pass it around, 8 bottles of beer on the wall.&quot;              
##  [3] &quot;8 bottles of beer on the wall, 8 bottles of beer. Take one down and pass it around, 7 bottles of beer on the wall.&quot;              
##  [4] &quot;7 bottles of beer on the wall, 7 bottles of beer. Take one down and pass it around, 6 bottles of beer on the wall.&quot;              
##  [5] &quot;6 bottles of beer on the wall, 6 bottles of beer. Take one down and pass it around, 5 bottles of beer on the wall.&quot;              
##  [6] &quot;5 bottles of beer on the wall, 5 bottles of beer. Take one down and pass it around, 4 bottles of beer on the wall.&quot;              
##  [7] &quot;4 bottles of beer on the wall, 4 bottles of beer. Take one down and pass it around, 3 bottles of beer on the wall.&quot;              
##  [8] &quot;3 bottles of beer on the wall, 3 bottles of beer. Take one down and pass it around, 2 bottles of beer on the wall.&quot;              
##  [9] &quot;2 bottles of beer on the wall, 2 bottles of beer. Take one down and pass it around, 1 bottles of beer on the wall.&quot;              
## [10] &quot;1 bottles of beer on the wall, 1 bottles of beer. Take one down and pass it around, 0 bottles of beer on the wall.&quot;              
## [11] &quot;No more bottles of beer on the wall, no more bottles of beer. Go to the store and buy some more, 10 bottles of beer on the wall.&quot;</code></pre>
</div>
<div id="problem-4-31" class="section level3 unnumbered">
<h3>Problem 4</h3>
<p>Its common to see for loops that dont preallocate the output and instead increase the length of a vector at each step:</p>
<pre><code>output &lt;- vector(&quot;integer&quot;, 0)
for (i in seq_along(x)) {
  output &lt;- c(output, lengths(x[[i]]))
}
output</code></pre>
<p>How does this affect performance? Design and execute an experiment.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span>nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>year, <span class="op">-</span>carrier, <span class="op">-</span>tailnum, <span class="op">-</span>origin, <span class="op">-</span>dest, <span class="op">-</span>time_hour)

<span class="kw">library</span>(microbenchmark)

<span class="co"># With preallocation</span>
x &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="dv">13</span>)
<span class="kw">microbenchmark</span>(<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(data))
  x[[i]] &lt;-<span class="st"> </span><span class="kw">mean</span>(data[[i]])
)</code></pre></div>
<pre><code>## Unit: milliseconds
##                                                  expr      min       lq
##  for (i in seq_along(data)) x[[i]] &lt;- mean(data[[i]]) 120.7422 121.3531
##      mean   median       uq      max neval
##  122.4673 122.2494 123.1647 127.5896   100</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  Without preallocation</span>
y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="dv">0</span>)
<span class="kw">microbenchmark</span>(<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(data))
  y[[i]] &lt;-<span class="st"> </span><span class="kw">mean</span>(data[[i]])
)</code></pre></div>
<pre><code>## Unit: milliseconds
##                                                  expr      min       lq
##  for (i in seq_along(data)) y[[i]] &lt;- mean(data[[i]]) 120.6699 121.3925
##      mean   median       uq      max neval
##  123.4028 122.1242 123.3345 181.5547   100</code></pre>
</div>
</div>
<div id="for-loop-variations" class="section level2 unnumbered">
<h2>21.3 For loop variations</h2>
<div id="problem-1-49" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Imagine you have a directory full of CSV files that you want to read in. You have their paths in a vector, files &lt;- dir(data/, pattern = \.csv$, full.names = TRUE), and now want to read each one with read_csv(). Write the for loop that will load them into a single data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">files &lt;-<span class="st"> </span><span class="kw">dir</span>(<span class="st">&quot;data/&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.csv$&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)
output &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="kw">length</span>(files))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(files)) {
  output[[i]] &lt;-<span class="st"> </span><span class="kw">read_csv</span>(files[[i]])
}
output &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw">flatten_df</span>(output)</code></pre></div>
</div>
<div id="problem-2-48" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>What happens if you use for (nm in names(x)) and x has no names?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">no_iris &lt;-<span class="st"> </span><span class="kw">unname</span>(iris)
no_iris &lt;-<span class="st"> </span>no_iris[, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]

<span class="co"># Leaves the list empty and does not throw an error.</span>

y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>)
<span class="cf">for</span> (nm <span class="cf">in</span> <span class="kw">names</span>(no_iris)) {
  y[[nm]] &lt;-<span class="st"> </span><span class="kw">mean</span>(no_iris[[nm]])
}
y</code></pre></div>
<pre><code>## list()</code></pre>
<p>What if only some of the elements are named?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Returns a list of length 2 with the value of the named element. </span>

<span class="kw">names</span>(no_iris[[<span class="dv">1</span>]]) &lt;-<span class="st"> &quot;Sepal.length&quot;</span>
y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>)
<span class="cf">for</span> (nm <span class="cf">in</span> <span class="kw">names</span>(no_iris)) {
  y[[nm]] &lt;-<span class="st"> </span><span class="kw">mean</span>(no_iris[[nm]])
}
y</code></pre></div>
<pre><code>## list()</code></pre>
<p>What if the names are not unique?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Only returns the mean of the first element and does not throw an error.</span>

<span class="kw">names</span>(no_iris) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sepal.length&quot;</span>, <span class="st">&quot;Sepal.length&quot;</span>, <span class="st">&quot;Sepal.length&quot;</span>, <span class="st">&quot;Sepal.length&quot;</span>)
y &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>)
<span class="cf">for</span> (nm <span class="cf">in</span> <span class="kw">names</span>(no_iris)) {
  y[[nm]] &lt;-<span class="st"> </span><span class="kw">mean</span>(no_iris[[nm]])
}
y</code></pre></div>
<pre><code>## $Sepal.length
## [1] 5.843333</code></pre>
</div>
<div id="problem-3-40" class="section level3 unnumbered">
<h3>Problem 3</h3>
<p>Write a function that prints the mean of each numeric column in a data frame, along with its name. For example, show_mean(iris) would print:</p>
<p>show_mean(iris) #&gt; Sepal.Length: 5.84 #&gt; Sepal.Width: 3.06 #&gt; Petal.Length: 3.76 #&gt; Petal.Width: 1.20 (Extra challenge: what function did I use to make sure that the numbers lined up nicely, even though the variable names had different lengths?)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">print_means &lt;-<span class="st"> </span><span class="cf">function</span>(data) {
data &lt;-<span class="st"> </span><span class="kw">select_if</span>(data, is.numeric)

Means &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="kw">length</span>(data))
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(data)) {
  Means[[i]] &lt;-<span class="st"> </span><span class="kw">mean</span>(data[[i]], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
}

Names &lt;-<span class="st"> </span><span class="kw">names</span>(data)

<span class="kw">print</span>(<span class="kw">as_data_frame</span>(<span class="kw">cbind</span>(Names, Means)))
}</code></pre></div>
</div>
<div id="problem-4-32" class="section level3 unnumbered">
<h3>Problem 4</h3>
<p>What does this code do? How does it work?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">trans &lt;-<span class="st"> </span><span class="kw">list</span>( 
  <span class="dt">disp =</span> <span class="cf">function</span>(x) x <span class="op">*</span><span class="st"> </span><span class="fl">0.0163871</span>,
  <span class="dt">am =</span> <span class="cf">function</span>(x) {
    <span class="kw">factor</span>(x, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;auto&quot;</span>, <span class="st">&quot;manual&quot;</span>))
  }
)
<span class="cf">for</span> (var <span class="cf">in</span> <span class="kw">names</span>(trans)) {
  mtcars[[var]] &lt;-<span class="st"> </span>trans[[var]](mtcars[[var]])
}

<span class="co"># The list trans contains two functions: disp and am. Disp takes its input and  multiplies by .0163871 and am takes its input and creates a factor variable with the value &quot;auto&quot; or &quot;manual.&quot; The for loop loops over the two functions in the list, uses the variables disp&quot; and am in the dataset mtcars as inputs, and outputs a new mtcars dataset.</span></code></pre></div>
</div>
</div>
<div id="for-loops-vs.functionals" class="section level2 unnumbered">
<h2>21.4 For loops vs.functionals</h2>
<div id="problem-1-50" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Read the documentation for apply(). In the 2d case, what two for loops does it generalise?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Unsure. </span></code></pre></div>
</div>
<div id="problem-2-49" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>Adapt col_summary() so that it only applies to numeric columns You might want to start with an is_numeric() function that returns a logical vector that has a TRUE corresponding to each numeric column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Original col_summary: </span>
col_summary &lt;-<span class="st"> </span><span class="cf">function</span>(df, fun) {
  out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="kw">length</span>(df))
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(df)) {
    out[i] &lt;-<span class="st"> </span><span class="kw">fun</span>(df[[i]])
  }
  out
}

<span class="co"># Adapted col_summary:</span>
col_summary &lt;-<span class="st"> </span><span class="cf">function</span>(df, fun) {
  df &lt;-<span class="st"> </span><span class="kw">select_if</span>(df, is.numeric)
  out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="kw">length</span>(df))
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(df)) {
    out[i] &lt;-<span class="st"> </span><span class="kw">fun</span>(df[[i]])
  }
  out
}</code></pre></div>
</div>
</div>
<div id="the-map-functions" class="section level2 unnumbered">
<h2>21.5 The map functions</h2>
<div id="problem-1-51" class="section level3">
<h3><span class="header-section-number">0.0.1</span> Problem 1</h3>
<p>Write code that uses one of the map functions to compute the mean of every column in mtcars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map_dbl</span>(mean)</code></pre></div>
<pre><code>##        mpg        cyl       disp         hp       drat         wt 
##  20.090625   6.187500   3.780862 146.687500   3.596563   3.217250 
##       qsec         vs         am       gear       carb 
##  17.848750   0.437500         NA   3.687500   2.812500</code></pre>
<p>Write code that uses one of the map functions to determine the type of each column in nycflights13::flights</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map_chr</span>(<span class="op">~</span><span class="kw">str_c</span>(<span class="kw">class</span>(.), <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>))</code></pre></div>
<pre><code>##              year             month               day          dep_time 
##         &quot;integer&quot;         &quot;integer&quot;         &quot;integer&quot;         &quot;integer&quot; 
##    sched_dep_time         dep_delay          arr_time    sched_arr_time 
##         &quot;integer&quot;         &quot;numeric&quot;         &quot;integer&quot;         &quot;integer&quot; 
##         arr_delay           carrier            flight           tailnum 
##         &quot;numeric&quot;       &quot;character&quot;         &quot;integer&quot;       &quot;character&quot; 
##            origin              dest          air_time          distance 
##       &quot;character&quot;       &quot;character&quot;         &quot;numeric&quot;         &quot;numeric&quot; 
##              hour            minute         time_hour 
##         &quot;numeric&quot;         &quot;numeric&quot; &quot;POSIXct, POSIXt&quot;</code></pre>
<p>Write code that uses one of the map functions to compute the number of unique values in each column of iris</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map_int</span>(<span class="op">~</span><span class="kw">n_distinct</span>(.))</code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
##           35           23           43           22            3</code></pre>
<p>Write code that uses one of the map functions to generate 10 random normals for each of  = -10, 0, 10, and 100.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)
x <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map</span>(<span class="op">~</span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dt">mean =</span> .))</code></pre></div>
<pre><code>## [[1]]
##  [1]  -9.275358  -9.894666 -10.619987 -10.164058 -10.544812 -11.713057
##  [7]  -9.478906 -10.161219 -11.153040 -10.128712
## 
## [[2]]
##  [1] -0.17041746  0.86517151  1.32111538 -1.12463427 -2.11399801
##  [6] -0.78223786  1.24563929  0.06665328 -1.55818345  1.06671964
## 
## [[3]]
##  [1] 11.327863  8.396614 10.359517 11.316058  8.059115 10.157814  9.829151
##  [8]  9.539890  9.542242 11.838309
## 
## [[4]]
##  [1]  99.08590 102.12234  99.49221 100.07767 100.54440  99.11360  99.31003
##  [8]  99.28098  98.00330  99.34028</code></pre>
</div>
<div id="problem-2-50" class="section level3">
<h3><span class="header-section-number">0.0.2</span> Problem 2</h3>
<p>How can you create a single vector that for each column in a data frame indicates whether or not its a factor?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">factor_fun &lt;-<span class="st"> </span><span class="cf">function</span>(data) {
  data <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">map_lgl</span>(<span class="op">~</span><span class="kw">is.factor</span>(.))
}</code></pre></div>
</div>
<div id="problem-3-41" class="section level3">
<h3><span class="header-section-number">0.0.3</span> Problem 3</h3>
<p>What happens when you use the map functions on vectors that arent lists? What does map(1:5, runif) do? Why?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#The function iterates across each value, 1:5, in the vector and returns a list with five vectors containing between one and five random deviates:</span>

<span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, runif)</code></pre></div>
<pre><code>## [[1]]
## [1] 0.8161435
## 
## [[2]]
## [1] 0.3758068 0.2859730
## 
## [[3]]
## [1] 0.69149642 0.34511628 0.07844706
## 
## [[4]]
## [1] 0.1451172 0.2624909 0.2905888 0.9175585
## 
## [[5]]
## [1] 0.3598436 0.1957438 0.1351827 0.8133851 0.9242730</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#If the vector 1:5 is a list, the function does not iterate across five values but rather takes one value, the length five vector, as its sole input. Since the input is not a single value, the map function uses the length of the vector as its input:</span>
  
<span class="kw">map</span>(<span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>), runif)</code></pre></div>
<pre><code>## [[1]]
## [1] 0.21493971 0.18366156 0.70680406 0.85090020 0.01070594</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># And as a result, the above function is equivalent to: </span>

<span class="kw">map</span>(<span class="kw">list</span>(<span class="dv">5</span>), runif)</code></pre></div>
<pre><code>## [[1]]
## [1] 0.27043688 0.93452846 0.41696199 0.04394776 0.72281121</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map</span>(<span class="dv">5</span>, runif)</code></pre></div>
<pre><code>## [[1]]
## [1] 0.907441581 0.462734716 0.914114956 0.836442103 0.008625985</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map</span>(<span class="kw">list</span>(<span class="dv">5</span><span class="op">:</span><span class="dv">9</span>), runif)</code></pre></div>
<pre><code>## [[1]]
## [1] 0.62948239 0.23950448 0.67474887 0.09911762 0.35890088</code></pre>
</div>
<div id="problem-4-33" class="section level3">
<h3><span class="header-section-number">0.0.4</span> Problem 4</h3>
<p>What does map(-2:2, rnorm, n = 5) do? Why? What does map_dbl(-2:2, rnorm, n = 5) do? Why?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map</span>(<span class="op">-</span><span class="dv">2</span><span class="op">:</span><span class="dv">2</span>, rnorm, <span class="dt">n =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## [[1]]
## [1] -2.64227765 -0.92196397 -2.42932793 -0.03068192 -3.02070309
## 
## [[2]]
## [1] -0.3226896 -1.9813397 -1.9522519 -1.1372016 -0.9186899
## 
## [[3]]
## [1] -1.3353828  1.1975488 -0.3371379 -1.3993751 -1.4023539
## 
## [[4]]
## [1] 0.8180347 1.5569307 1.3211730 0.4476104 2.2527676
## 
## [[5]]
## [1] 2.320296 1.273936 1.303491 0.973927 1.935582</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The function above takes a length five vector from -2:2 and returns a list of five vectors of five observations along a normal distribution given mean values of -2, -1, 0, 1, and 2, respectively. It takes each value from -2:2 and returns a vector of five observations, looping over the entire vector and storing the vectors in a single list. </span>

<span class="co">#map_dbl(-2:2, rnorm, n = 5)</span>

<span class="co"># The above function throws the error &quot;Result 1 is not a length 1 atomic vector,&quot; because it is unable to store the output of the function as a single value in a vector. Map_dbl expects each iterative output to be a single value, but each iteration of this function is a vector of five observations. In order to return the function&#39;s output as a single vector, the map() function would need to be wrapped in unlist(): </span>

<span class="kw">unlist</span>(<span class="kw">map</span>(<span class="op">-</span><span class="dv">2</span><span class="op">:</span><span class="dv">2</span>, rnorm, <span class="dt">n =</span> <span class="dv">5</span>))</code></pre></div>
<pre><code>##  [1] -2.42109619 -1.97195458 -3.20126253 -2.58487353 -3.09380864
##  [6] -1.14798984 -0.80008515  0.45832876 -0.40936816 -2.06156555
## [11] -1.52731361  0.60919215 -1.70056847  0.01172178  0.22145957
## [16]  0.07884616  1.99542377  2.41429012  1.28563225  1.04332495
## [21]  2.82510369  2.36819671  2.23763944  1.44620218  3.04253771</code></pre>
</div>
<div id="problem-5-19" class="section level3">
<h3><span class="header-section-number">0.0.5</span> Problem 5</h3>
<p>Rewrite map(x, function(df) lm(mpg ~ wt, data = df)) to eliminate the anonymous function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># map(x, ~lm(mpg ~ wt, data = .))</span></code></pre></div>
</div>
</div>
<div id="other-patterns-of-for-loops" class="section level2 unnumbered">
<h2>21.9 Other patterns of for loops</h2>
<div id="problem-1-52" class="section level3">
<h3><span class="header-section-number">0.0.6</span> Problem 1</h3>
<p>Implement your own version of every() using a for loop. Compare it with purrr::every(). What does purrrs version do that your version doesnt?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, letters, <span class="kw">list</span>(<span class="dv">10</span>))


bens_every &lt;-<span class="st"> </span><span class="cf">function</span>(x, f) {
out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;logical&quot;</span>, <span class="dv">1</span>)
<span class="cf">for</span> (. <span class="cf">in</span> <span class="kw">seq_along</span>(x))
  out &lt;-<span class="st"> </span><span class="kw">all</span>((<span class="kw">f</span>(.)))
out
}

<span class="kw">bens_every</span>(iris, is.character)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">bens_every</span>(iris, is.vector)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Unlike dplyr&#39;s every(), my function does not support shortcuts for anonymous functions</span>

iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">every</span>(<span class="op">~</span><span class="kw">mean</span>(.) <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="problem-2-51" class="section level3">
<h3><span class="header-section-number">0.0.7</span> Problem 2</h3>
<p>Create an enhanced col_sum() that applies a summary function to every numeric column in a data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">col_summary &lt;-<span class="st"> </span><span class="cf">function</span>(df, fun) {
  df &lt;-<span class="st"> </span><span class="kw">keep</span>(df, is.numeric)
  out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="kw">length</span>(df))
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(df)) {
    out[[i]] &lt;-<span class="st"> </span><span class="kw">fun</span>(df[[i]])
  }
  out
}

<span class="kw">col_summary</span>(iris, mean)</code></pre></div>
<pre><code>## [1] 5.843333 3.057333 3.758000 1.199333</code></pre>
</div>
<div id="problem-3-42" class="section level3">
<h3><span class="header-section-number">0.0.8</span> Problem 3</h3>
<p>A possible base R equivalent of col_sum() is:</p>
<pre><code>col_sum3 &lt;- function(df, f) {
  is_num &lt;- sapply(df, is.numeric)
  df_num &lt;- df[, is_num]

  sapply(df_num, f)
}</code></pre>
<p>But it has a number of bugs as illustrated with the following inputs:</p>
<pre><code>df &lt;- tibble(
  x = 1:3, 
  y = 3:1,
  z = c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
)
# OK
boom col_sum3(df, mean)
# Has problems: don&#39;t always return numeric vector
col_sum3(df[1:2], mean)
col_sum3(df[1], mean)
#col_sum3(df[0], mean)</code></pre>
<p>What causes the bugs?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#The bug stems from sapply, which returns a list rather than a vector when given a dataframe with no variables. Here is a more consistent approach in base R: </span>

col_sum3 &lt;-<span class="st"> </span><span class="cf">function</span>(df, f) {
  is_num &lt;-<span class="st"> </span><span class="kw">vapply</span>(df, is.numeric, <span class="kw">logical</span>(<span class="dv">1</span>))
  df_num &lt;-<span class="st"> </span>df[, is_num]

  <span class="kw">sapply</span>(df_num, f)
}

df &lt;-<span class="st"> </span><span class="kw">tibble</span>(
  <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, 
  <span class="dt">y =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">1</span>,
  <span class="dt">z =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)
)

<span class="kw">col_sum3</span>(df[<span class="dv">0</span>], mean)</code></pre></div>
<pre><code>## named list()</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">col_sum3</span>(df[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], mean)</code></pre></div>
<pre><code>## x y 
## 2 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">col_sum3</span>(df[<span class="dv">1</span>], mean)</code></pre></div>
<pre><code>## x 
## 2</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter-19-functions.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
