<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Data Science Solution Set</title>
  <meta name="description" content="R for Data Science Solution Set">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R for Data Science Solution Set" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Data Science Solution Set" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="chapter-20-vectors.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.0/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.0/str_view.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html"><i class="fa fa-check"></i>Chapter 3 - Data Visualisation</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#first-steps"><i class="fa fa-check"></i>3.2 - First Steps</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i>3.3 - Aesthetic Mappings</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-1"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-1"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-1"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-1"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-1"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-6"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#facets"><i class="fa fa-check"></i>3.5 - Facets</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-2"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-2"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-2"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-2"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-2"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-6-1"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#geometric-objects"><i class="fa fa-check"></i>3.6 - Geometric Objects</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-3"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-3"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-3"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-3"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-3"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-6-2"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i>3.7 - Statistical Transformations</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-4"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-4"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-4"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-4"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-5-4"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#position-adjustments"><i class="fa fa-check"></i>3.8 - Position Adjustments</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-5"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-5"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-5"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-5"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i>3.9 - Coordinate Systems</a><ul>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-1-6"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-2-6"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-3-6"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-3-data-visualisation.html"><a href="chapter-3-data-visualisation.html#problem-4-6"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html"><i class="fa fa-check"></i>Chapter 5 - Data Transformation</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i>5.2 - Filter Rows with filter()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-7"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-7"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-7"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-7"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i>5.3 - Arrange Rows with arrange()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-8"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-8"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-8"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-8"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i>5.4 - Select Columns with select()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-9"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-9"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-9"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-9"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i>5.5 - Add New Variables with mutate()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-10"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-10"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-10"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-10"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-5-5"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-6-3"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i>5.6 - Grouped summaries with summarise()</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-11"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-11"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-11"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-11"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-5-6"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-6-4"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#grouped-mutates-and-filters"><i class="fa fa-check"></i>5.7 - Grouped Mutates (and Filters)</a><ul>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-1-12"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-2-12"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-3-12"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-4-12"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-5-7"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-6-5"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-7"><i class="fa fa-check"></i>Problem 7</a></li>
<li class="chapter" data-level="" data-path="chapter-5-data-transformation.html"><a href="chapter-5-data-transformation.html#problem-8"><i class="fa fa-check"></i>Problem 8</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html"><i class="fa fa-check"></i>Chapter 7 - Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#variation"><i class="fa fa-check"></i>7.3 - Variation</a><ul>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-1-13"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-2-13"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-3-13"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-4-13"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#missing-values"><i class="fa fa-check"></i>7.4 - Missing Values</a><ul>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-1-14"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-7-exploratory-data-analysis.html"><a href="chapter-7-exploratory-data-analysis.html#problem-2-14"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html"><i class="fa fa-check"></i>Chapter 10 - Tibbles</a><ul>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#exercises"><i class="fa fa-check"></i>10.5 - Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-1-15"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-2-15"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-3-14"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-4-14"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-5-8"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-10-tibbles.html"><a href="chapter-10-tibbles.html#problem-6-6"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html"><i class="fa fa-check"></i>Chapter 11 - Data Import</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#getting-started"><i class="fa fa-check"></i>11.2 - Getting Started</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-1-16"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-2-16"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-3-15"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-4-15"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-5-9"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#parsing-a-vector"><i class="fa fa-check"></i>11.3 - Parsing a Vector</a><ul>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-1-17"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-2-17"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-3-16"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-4-16"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-5-10"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-6-7"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-11-data-import.html"><a href="chapter-11-data-import.html#problem-7-1"><i class="fa fa-check"></i>Problem 7</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html"><i class="fa fa-check"></i>Chapter 12 - Tidy Data</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#tidy-data"><i class="fa fa-check"></i>12.2 - Tidy Data</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-1-18"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-2-18"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-3-17"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i>12.3 - Spreading and Gathering</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-1-19"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-2-19"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-3-18"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-4-17"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#spreading-and-uniting"><i class="fa fa-check"></i>12.4 - Spreading and Uniting</a><ul>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-1-20"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-2-20"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-12-tidy-data.html"><a href="chapter-12-tidy-data.html#problem-3-19"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html"><i class="fa fa-check"></i>Chapter 13 - Relational data</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#nycflights13"><i class="fa fa-check"></i>13.2 - nycflights13</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-21"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-21"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-20"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-18"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#keys"><i class="fa fa-check"></i>13.3 - Keys</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-22"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-22"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-21"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-19"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#mutating-joins"><i class="fa fa-check"></i>13.4 - Mutating joins</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-23"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-23"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-22"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-20"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-5-11"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#filtering-joins"><i class="fa fa-check"></i>13.5 - Filtering joins</a><ul>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-1-24"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-2-24"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-3-23"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-4-21"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-5-12"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-13-relational-data.html"><a href="chapter-13-relational-data.html#problem-6-8"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html"><i class="fa fa-check"></i>Chapter 14 - Strings</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#string-basics"><i class="fa fa-check"></i>14.2 String basics</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-25"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-25"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-24"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-4-22"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-5-13"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-6-9"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-26"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-26"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-25"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#anchors"><i class="fa fa-check"></i>14.3.2 - Anchors</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-27"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-27"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i>14.3.2 - Character classes and alternatives</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-28"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-28"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-26"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-4-23"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-5-14"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#repetition"><i class="fa fa-check"></i>14.3.4 - Repetition</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-29"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-29"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-27"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-4-24"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#grouping-and-backreferences"><i class="fa fa-check"></i>14.3.5 - Grouping and backreferences</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-30"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-30"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#tools"><i class="fa fa-check"></i>14.4 Tools</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-31"><i class="fa fa-check"></i>Problem 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#extract-matches"><i class="fa fa-check"></i>14.4.3 - Extract Matches</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-32"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-31"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#grouped-matches"><i class="fa fa-check"></i>14.4.4 Grouped matches</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-33"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-32"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#replacing-matches"><i class="fa fa-check"></i>14.4.5 - Replacing matches</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-34"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-33"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-28"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#splitting"><i class="fa fa-check"></i>14.4.6 - Splitting</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-35"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-34"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-3-29"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#other-types-of-pattern"><i class="fa fa-check"></i>14.5 - Other types of pattern</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-36"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-35"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i>14.6 - Other uses of regular expressions</a><ul>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-1-37"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-14-strings.html"><a href="chapter-14-strings.html#problem-2-36"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html"><i class="fa fa-check"></i>Chapter 15 - Factors</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#general-social-survey"><i class="fa fa-check"></i>15.3 - General Social Survey</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-1-38"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-2-37"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-3-30"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#modifying-factor-order"><i class="fa fa-check"></i>15.4 - Modifying factor order</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-1-39"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-2-38"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-3-31"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#modifying-factor-levels"><i class="fa fa-check"></i>15.5 - Modifying factor levels</a><ul>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-1-40"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-15-factors.html"><a href="chapter-15-factors.html#problem-2-39"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html"><i class="fa fa-check"></i>Chapter 16 - Dates and times</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i>16.2 - Creating date/times</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-1-41"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-2-40"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-3-32"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#date-time-components"><i class="fa fa-check"></i>16.3 - Date-time components</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-1-42"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-2-41"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-3-33"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-4-25"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-5-15"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-6-10"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-7-2"><i class="fa fa-check"></i>Problem 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#time-spans"><i class="fa fa-check"></i>16.4 - Time spans</a><ul>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-1-43"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-2-42"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-3-34"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-4-26"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-16-dates-and-times.html"><a href="chapter-16-dates-and-times.html#problem-5-16"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html"><i class="fa fa-check"></i>Chapter 19 - Functions</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i>19.2 - When should you write a function?</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-44"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-43"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-35"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-27"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-5-17"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-6-11"><i class="fa fa-check"></i>Problem 6</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-7-3"><i class="fa fa-check"></i>Problem 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i>19.3 - Functions are for humans and computers</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-45"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-44"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-36"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-28"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#conditional-execution"><i class="fa fa-check"></i>19.4 - Conditional execution</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-46"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-45"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-37"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-29"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-5-18"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-6-12"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#function-arguments"><i class="fa fa-check"></i>19.5 - Function arguments</a><ul>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-1-47"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-2-46"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-3-38"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-19-functions.html"><a href="chapter-19-functions.html#problem-4-30"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html"><i class="fa fa-check"></i>Chapter 20 - Vectors</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i>20.3 - Important types of atomic vector</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-1-48"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-2-47"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-3-39"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-4-31"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-5-19"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#using-atomic-vectors"><i class="fa fa-check"></i>20.4 - Using atomic vectors</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-1-49"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-2-48"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-3-40"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-4-32"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-5-20"><i class="fa fa-check"></i>Problem 5</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-6-13"><i class="fa fa-check"></i>Problem 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#recursive-vectors-lists"><i class="fa fa-check"></i>20.5 - Recursive vectors (lists)</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-1-50"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-2-49"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#augmented-vectors"><i class="fa fa-check"></i>20.7 - Augmented vectors</a><ul>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-1-51"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-2-50"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-20-vectors.html"><a href="chapter-20-vectors.html#problem-3-41"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html"><i class="fa fa-check"></i>Chapter 21 - Iteration</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#for-loops"><i class="fa fa-check"></i>21.2 - For loops</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-52"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-51"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-42"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-4-33"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#for-loop-variations"><i class="fa fa-check"></i>21.3 - For loop variations</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-53"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-52"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-43"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-4-34"><i class="fa fa-check"></i>Problem 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#for-loops-vs.functionals"><i class="fa fa-check"></i>21.4 For loops vs. functionals</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-54"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-53"><i class="fa fa-check"></i>Problem 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#the-map-functions"><i class="fa fa-check"></i>21.5 The map functions</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-55"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-54"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-44"><i class="fa fa-check"></i>Problem 3</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-4-35"><i class="fa fa-check"></i>Problem 4</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-5-21"><i class="fa fa-check"></i>Problem 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i>21.9 Other patterns of for loops</a><ul>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-1-56"><i class="fa fa-check"></i>Problem 1</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-2-55"><i class="fa fa-check"></i>Problem 2</a></li>
<li class="chapter" data-level="" data-path="chapter-21-iteration.html"><a href="chapter-21-iteration.html#problem-3-45"><i class="fa fa-check"></i>Problem 3</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science Solution Set</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-21---iteration" class="section level1 unnumbered">
<h1>Chapter 21 - Iteration</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)</code></pre></div>
<div id="for-loops" class="section level2 unnumbered">
<h2>21.2 - For loops</h2>
<div id="problem-1-52" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Write for loops to:</p>
<p>Compute the mean of every column in mtcars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">means &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;double&quot;</span>, <span class="dt">length =</span> <span class="kw">ncol</span>(mtcars))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(mtcars)) {
  means[[i]] &lt;-<span class="st"> </span><span class="kw">mean</span>(mtcars[[i]])
}</code></pre></div>
<p>Determine the type of each column in nycflights13::flights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(nycflights13)

types &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;character&quot;</span>, <span class="dt">length =</span> <span class="kw">ncol</span>(flights))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(flights)) {
  types[[i]] &lt;-<span class="st"> </span><span class="kw">typeof</span>(flights[[i]])
}</code></pre></div>
<p>Compute the number of unique values in each column of iris.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uniques &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;integer&quot;</span>, <span class="dt">length =</span> <span class="kw">ncol</span>(iris))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(iris)) {
  uniques[[i]] &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(iris[[i]]))
}</code></pre></div>
<p>Generate 10 random normals for each of<br />
μ=−10, 0, 10, and 100.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mu &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)

means &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;list&quot;</span>, <span class="dt">length =</span> <span class="kw">length</span>(mu))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(mu)) {
  means[[i]] &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, mu[[i]])
}</code></pre></div>
<p>Think about the output, sequence, and body before you start writing the loop.</p>
</div>
<div id="problem-2-51" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>Eliminate the for loop in each of the following examples by taking advantage of an existing function that works with vectors:</p>
<pre><code>out &lt;- &quot;&quot;
for (x in letters) {
  out &lt;- stringr::str_c(out, x)
}</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_c</span>(letters, <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;abcdefghijklmnopqrstuvwxyz&quot;</code></pre>
<pre><code>x &lt;- sample(100)
sd &lt;- 0
for (i in seq_along(x)) {
  sd &lt;- sd + (x[i] - mean(x)) ^ 2
}
sd &lt;- sqrt(sd / (length(x) - 1))</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">100</span>)
<span class="kw">sd</span>(x)</code></pre></div>
<pre><code>## [1] 29.01149</code></pre>
<pre><code>x &lt;- runif(100)
out &lt;- vector(&quot;numeric&quot;, length(x))
out[1] &lt;- x[1]
for (i in 2:length(x)) {
  out[i] &lt;- out[i - 1] + x[i]
}</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">100</span>)
<span class="kw">cumsum</span>(x)</code></pre></div>
<pre><code>##   [1]  0.06030477  0.75742118  1.69223178  2.35422111  2.72246468
##   [6]  3.67966522  3.72324884  4.50973683  5.44731544  5.80765030
##  [11]  6.40561882  6.92470796  7.04642363  7.46450121  7.70113562
##  [16]  7.93046446  8.04482687  8.73551545  9.22180294  9.42266355
##  [21]  9.52799487  9.83999521 10.60093500 10.86012633 11.69918734
##  [26] 12.34664251 13.28359726 13.95228765 14.47616801 15.34560148
##  [31] 16.30425587 17.05519106 17.07623238 17.89635132 18.09061577
##  [36] 18.82034431 19.41470017 20.16952820 20.99551643 21.57229480
##  [41] 21.70375800 22.23202871 22.48396282 22.51326563 23.01452899
##  [46] 23.05260217 23.50482650 24.31992424 24.44944922 24.71880348
##  [51] 24.78475777 25.62374697 25.93598207 26.49051693 26.69721214
##  [56] 27.25935695 27.73715236 28.64560495 29.37741005 29.86748751
##  [61] 29.92920748 30.60484837 31.49035629 31.92410010 32.08372988
##  [66] 32.16561631 33.00098727 33.58140343 33.80156996 34.67180574
##  [71] 35.29647946 36.10209921 36.67074135 36.86176417 37.68857715
##  [76] 38.37004790 38.97167990 39.62529428 40.61496692 41.01846524
##  [81] 41.08595753 41.16703179 41.69145914 42.50166870 42.75396548
##  [86] 43.41057635 43.50030912 43.78397371 43.83507276 43.85966632
##  [91] 44.76932271 44.78832266 45.41748462 45.52085776 45.73368836
##  [96] 46.36236083 46.84908308 47.79787528 48.00451683 48.77955002</code></pre>
</div>
<div id="problem-3-42" class="section level3 unnumbered">
<h3>Problem 3</h3>
<p>Write a for loop that <code>prints()</code> the lyrics to the children’s song “Alice the camel”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(stringr)

humps &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;five&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;one&quot;</span>, <span class="st">&quot;no&quot;</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(humps)) {
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {
    <span class="kw">print</span>(<span class="kw">str_glue</span>(<span class="st">&quot;Alice the camel has {humps[i]} humps.&quot;</span>))
  }
  <span class="cf">if</span> (i <span class="op">&lt;</span><span class="st"> </span><span class="dv">6</span>) {
    <span class="co"># str_glue is unecessary. it drops [1]</span>
    <span class="kw">print</span>(<span class="kw">str_glue</span>(<span class="st">&quot;So go, Alice, go.&quot;</span>))
  } <span class="cf">else</span> {
    <span class="kw">print</span>(<span class="kw">str_glue</span>(<span class="st">&quot;Now Alice is a horse&quot;</span>))
  }
}</code></pre></div>
<pre><code>## Alice the camel has five humps.
## Alice the camel has five humps.
## Alice the camel has five humps.
## So go, Alice, go.
## Alice the camel has four humps.
## Alice the camel has four humps.
## Alice the camel has four humps.
## So go, Alice, go.
## Alice the camel has three humps.
## Alice the camel has three humps.
## Alice the camel has three humps.
## So go, Alice, go.
## Alice the camel has two humps.
## Alice the camel has two humps.
## Alice the camel has two humps.
## So go, Alice, go.
## Alice the camel has one humps.
## Alice the camel has one humps.
## Alice the camel has one humps.
## So go, Alice, go.
## Alice the camel has no humps.
## Alice the camel has no humps.
## Alice the camel has no humps.
## Now Alice is a horse</code></pre>
<p>Convert the nursery rhyme “ten in the bed” to a function. Generalise it to any number of people in any sleeping structure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n_in_the_bed &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">occupants =</span> 10L) {
  
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(<span class="dt">from =</span> occupants, <span class="dt">to =</span> <span class="dv">1</span>)) {
    <span class="cf">if</span> (i <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) {
      <span class="kw">print</span>(<span class="kw">str_glue</span>(
        <span class="st">&quot;There were {i} in a bed</span>
<span class="st">        And the little one said</span>
<span class="st">        &#39;Roll over, roll over&#39;</span>
<span class="st">        So they all rolled over</span>
<span class="st">        And one fell out</span>
<span class="st">        </span>
<span class="st">        &quot;</span>
      ))
    } <span class="cf">else</span> <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {
      <span class="kw">print</span>(<span class="kw">str_glue</span>(<span class="st">&quot;There was one in a bed</span>
<span class="st">      And the little one said</span>
<span class="st">      &#39;Good night!&#39;&quot;</span>))
    }
  }
}

<span class="kw">n_in_the_bed</span>()</code></pre></div>
<pre><code>## There were 10 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 9 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 8 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 7 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 6 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 5 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 4 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 3 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There were 2 in a bed
## And the little one said
## &#39;Roll over, roll over&#39;
## So they all rolled over
## And one fell out
## 
## There was one in a bed
## And the little one said
## &#39;Good night!&#39;</code></pre>
<p>Convert the song “99 bottles of beer on the wall” to a function. Generalise to any number of any vessel containing any liquid on any surface.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bottles_of_beer &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">bottles =</span> 99L) {
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(<span class="dt">from =</span> bottles, <span class="dt">to =</span> <span class="dv">0</span>)) {
    
    bottles_left &lt;-<span class="st"> </span><span class="kw">ifelse</span>(i <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="st">&quot;no more&quot;</span>, i) 
    
    <span class="kw">print</span>(<span class="kw">str_glue</span>(
      <span class="st">&quot;{i} bottle of beer on the wall, {i} bottle of beer.</span>
<span class="st">      Take one down and pass it around, {bottles_left} bottles of beer on the wall.&quot;</span>
      )
    )
  }
}

<span class="kw">bottles_of_beer</span>()</code></pre></div>
<pre><code>## 99 bottle of beer on the wall, 99 bottle of beer.
## Take one down and pass it around, 99 bottles of beer on the wall.
## 98 bottle of beer on the wall, 98 bottle of beer.
## Take one down and pass it around, 98 bottles of beer on the wall.
## 97 bottle of beer on the wall, 97 bottle of beer.
## Take one down and pass it around, 97 bottles of beer on the wall.
## 96 bottle of beer on the wall, 96 bottle of beer.
## Take one down and pass it around, 96 bottles of beer on the wall.
## 95 bottle of beer on the wall, 95 bottle of beer.
## Take one down and pass it around, 95 bottles of beer on the wall.
## 94 bottle of beer on the wall, 94 bottle of beer.
## Take one down and pass it around, 94 bottles of beer on the wall.
## 93 bottle of beer on the wall, 93 bottle of beer.
## Take one down and pass it around, 93 bottles of beer on the wall.
## 92 bottle of beer on the wall, 92 bottle of beer.
## Take one down and pass it around, 92 bottles of beer on the wall.
## 91 bottle of beer on the wall, 91 bottle of beer.
## Take one down and pass it around, 91 bottles of beer on the wall.
## 90 bottle of beer on the wall, 90 bottle of beer.
## Take one down and pass it around, 90 bottles of beer on the wall.
## 89 bottle of beer on the wall, 89 bottle of beer.
## Take one down and pass it around, 89 bottles of beer on the wall.
## 88 bottle of beer on the wall, 88 bottle of beer.
## Take one down and pass it around, 88 bottles of beer on the wall.
## 87 bottle of beer on the wall, 87 bottle of beer.
## Take one down and pass it around, 87 bottles of beer on the wall.
## 86 bottle of beer on the wall, 86 bottle of beer.
## Take one down and pass it around, 86 bottles of beer on the wall.
## 85 bottle of beer on the wall, 85 bottle of beer.
## Take one down and pass it around, 85 bottles of beer on the wall.
## 84 bottle of beer on the wall, 84 bottle of beer.
## Take one down and pass it around, 84 bottles of beer on the wall.
## 83 bottle of beer on the wall, 83 bottle of beer.
## Take one down and pass it around, 83 bottles of beer on the wall.
## 82 bottle of beer on the wall, 82 bottle of beer.
## Take one down and pass it around, 82 bottles of beer on the wall.
## 81 bottle of beer on the wall, 81 bottle of beer.
## Take one down and pass it around, 81 bottles of beer on the wall.
## 80 bottle of beer on the wall, 80 bottle of beer.
## Take one down and pass it around, 80 bottles of beer on the wall.
## 79 bottle of beer on the wall, 79 bottle of beer.
## Take one down and pass it around, 79 bottles of beer on the wall.
## 78 bottle of beer on the wall, 78 bottle of beer.
## Take one down and pass it around, 78 bottles of beer on the wall.
## 77 bottle of beer on the wall, 77 bottle of beer.
## Take one down and pass it around, 77 bottles of beer on the wall.
## 76 bottle of beer on the wall, 76 bottle of beer.
## Take one down and pass it around, 76 bottles of beer on the wall.
## 75 bottle of beer on the wall, 75 bottle of beer.
## Take one down and pass it around, 75 bottles of beer on the wall.
## 74 bottle of beer on the wall, 74 bottle of beer.
## Take one down and pass it around, 74 bottles of beer on the wall.
## 73 bottle of beer on the wall, 73 bottle of beer.
## Take one down and pass it around, 73 bottles of beer on the wall.
## 72 bottle of beer on the wall, 72 bottle of beer.
## Take one down and pass it around, 72 bottles of beer on the wall.
## 71 bottle of beer on the wall, 71 bottle of beer.
## Take one down and pass it around, 71 bottles of beer on the wall.
## 70 bottle of beer on the wall, 70 bottle of beer.
## Take one down and pass it around, 70 bottles of beer on the wall.
## 69 bottle of beer on the wall, 69 bottle of beer.
## Take one down and pass it around, 69 bottles of beer on the wall.
## 68 bottle of beer on the wall, 68 bottle of beer.
## Take one down and pass it around, 68 bottles of beer on the wall.
## 67 bottle of beer on the wall, 67 bottle of beer.
## Take one down and pass it around, 67 bottles of beer on the wall.
## 66 bottle of beer on the wall, 66 bottle of beer.
## Take one down and pass it around, 66 bottles of beer on the wall.
## 65 bottle of beer on the wall, 65 bottle of beer.
## Take one down and pass it around, 65 bottles of beer on the wall.
## 64 bottle of beer on the wall, 64 bottle of beer.
## Take one down and pass it around, 64 bottles of beer on the wall.
## 63 bottle of beer on the wall, 63 bottle of beer.
## Take one down and pass it around, 63 bottles of beer on the wall.
## 62 bottle of beer on the wall, 62 bottle of beer.
## Take one down and pass it around, 62 bottles of beer on the wall.
## 61 bottle of beer on the wall, 61 bottle of beer.
## Take one down and pass it around, 61 bottles of beer on the wall.
## 60 bottle of beer on the wall, 60 bottle of beer.
## Take one down and pass it around, 60 bottles of beer on the wall.
## 59 bottle of beer on the wall, 59 bottle of beer.
## Take one down and pass it around, 59 bottles of beer on the wall.
## 58 bottle of beer on the wall, 58 bottle of beer.
## Take one down and pass it around, 58 bottles of beer on the wall.
## 57 bottle of beer on the wall, 57 bottle of beer.
## Take one down and pass it around, 57 bottles of beer on the wall.
## 56 bottle of beer on the wall, 56 bottle of beer.
## Take one down and pass it around, 56 bottles of beer on the wall.
## 55 bottle of beer on the wall, 55 bottle of beer.
## Take one down and pass it around, 55 bottles of beer on the wall.
## 54 bottle of beer on the wall, 54 bottle of beer.
## Take one down and pass it around, 54 bottles of beer on the wall.
## 53 bottle of beer on the wall, 53 bottle of beer.
## Take one down and pass it around, 53 bottles of beer on the wall.
## 52 bottle of beer on the wall, 52 bottle of beer.
## Take one down and pass it around, 52 bottles of beer on the wall.
## 51 bottle of beer on the wall, 51 bottle of beer.
## Take one down and pass it around, 51 bottles of beer on the wall.
## 50 bottle of beer on the wall, 50 bottle of beer.
## Take one down and pass it around, 50 bottles of beer on the wall.
## 49 bottle of beer on the wall, 49 bottle of beer.
## Take one down and pass it around, 49 bottles of beer on the wall.
## 48 bottle of beer on the wall, 48 bottle of beer.
## Take one down and pass it around, 48 bottles of beer on the wall.
## 47 bottle of beer on the wall, 47 bottle of beer.
## Take one down and pass it around, 47 bottles of beer on the wall.
## 46 bottle of beer on the wall, 46 bottle of beer.
## Take one down and pass it around, 46 bottles of beer on the wall.
## 45 bottle of beer on the wall, 45 bottle of beer.
## Take one down and pass it around, 45 bottles of beer on the wall.
## 44 bottle of beer on the wall, 44 bottle of beer.
## Take one down and pass it around, 44 bottles of beer on the wall.
## 43 bottle of beer on the wall, 43 bottle of beer.
## Take one down and pass it around, 43 bottles of beer on the wall.
## 42 bottle of beer on the wall, 42 bottle of beer.
## Take one down and pass it around, 42 bottles of beer on the wall.
## 41 bottle of beer on the wall, 41 bottle of beer.
## Take one down and pass it around, 41 bottles of beer on the wall.
## 40 bottle of beer on the wall, 40 bottle of beer.
## Take one down and pass it around, 40 bottles of beer on the wall.
## 39 bottle of beer on the wall, 39 bottle of beer.
## Take one down and pass it around, 39 bottles of beer on the wall.
## 38 bottle of beer on the wall, 38 bottle of beer.
## Take one down and pass it around, 38 bottles of beer on the wall.
## 37 bottle of beer on the wall, 37 bottle of beer.
## Take one down and pass it around, 37 bottles of beer on the wall.
## 36 bottle of beer on the wall, 36 bottle of beer.
## Take one down and pass it around, 36 bottles of beer on the wall.
## 35 bottle of beer on the wall, 35 bottle of beer.
## Take one down and pass it around, 35 bottles of beer on the wall.
## 34 bottle of beer on the wall, 34 bottle of beer.
## Take one down and pass it around, 34 bottles of beer on the wall.
## 33 bottle of beer on the wall, 33 bottle of beer.
## Take one down and pass it around, 33 bottles of beer on the wall.
## 32 bottle of beer on the wall, 32 bottle of beer.
## Take one down and pass it around, 32 bottles of beer on the wall.
## 31 bottle of beer on the wall, 31 bottle of beer.
## Take one down and pass it around, 31 bottles of beer on the wall.
## 30 bottle of beer on the wall, 30 bottle of beer.
## Take one down and pass it around, 30 bottles of beer on the wall.
## 29 bottle of beer on the wall, 29 bottle of beer.
## Take one down and pass it around, 29 bottles of beer on the wall.
## 28 bottle of beer on the wall, 28 bottle of beer.
## Take one down and pass it around, 28 bottles of beer on the wall.
## 27 bottle of beer on the wall, 27 bottle of beer.
## Take one down and pass it around, 27 bottles of beer on the wall.
## 26 bottle of beer on the wall, 26 bottle of beer.
## Take one down and pass it around, 26 bottles of beer on the wall.
## 25 bottle of beer on the wall, 25 bottle of beer.
## Take one down and pass it around, 25 bottles of beer on the wall.
## 24 bottle of beer on the wall, 24 bottle of beer.
## Take one down and pass it around, 24 bottles of beer on the wall.
## 23 bottle of beer on the wall, 23 bottle of beer.
## Take one down and pass it around, 23 bottles of beer on the wall.
## 22 bottle of beer on the wall, 22 bottle of beer.
## Take one down and pass it around, 22 bottles of beer on the wall.
## 21 bottle of beer on the wall, 21 bottle of beer.
## Take one down and pass it around, 21 bottles of beer on the wall.
## 20 bottle of beer on the wall, 20 bottle of beer.
## Take one down and pass it around, 20 bottles of beer on the wall.
## 19 bottle of beer on the wall, 19 bottle of beer.
## Take one down and pass it around, 19 bottles of beer on the wall.
## 18 bottle of beer on the wall, 18 bottle of beer.
## Take one down and pass it around, 18 bottles of beer on the wall.
## 17 bottle of beer on the wall, 17 bottle of beer.
## Take one down and pass it around, 17 bottles of beer on the wall.
## 16 bottle of beer on the wall, 16 bottle of beer.
## Take one down and pass it around, 16 bottles of beer on the wall.
## 15 bottle of beer on the wall, 15 bottle of beer.
## Take one down and pass it around, 15 bottles of beer on the wall.
## 14 bottle of beer on the wall, 14 bottle of beer.
## Take one down and pass it around, 14 bottles of beer on the wall.
## 13 bottle of beer on the wall, 13 bottle of beer.
## Take one down and pass it around, 13 bottles of beer on the wall.
## 12 bottle of beer on the wall, 12 bottle of beer.
## Take one down and pass it around, 12 bottles of beer on the wall.
## 11 bottle of beer on the wall, 11 bottle of beer.
## Take one down and pass it around, 11 bottles of beer on the wall.
## 10 bottle of beer on the wall, 10 bottle of beer.
## Take one down and pass it around, 10 bottles of beer on the wall.
## 9 bottle of beer on the wall, 9 bottle of beer.
## Take one down and pass it around, 9 bottles of beer on the wall.
## 8 bottle of beer on the wall, 8 bottle of beer.
## Take one down and pass it around, 8 bottles of beer on the wall.
## 7 bottle of beer on the wall, 7 bottle of beer.
## Take one down and pass it around, 7 bottles of beer on the wall.
## 6 bottle of beer on the wall, 6 bottle of beer.
## Take one down and pass it around, 6 bottles of beer on the wall.
## 5 bottle of beer on the wall, 5 bottle of beer.
## Take one down and pass it around, 5 bottles of beer on the wall.
## 4 bottle of beer on the wall, 4 bottle of beer.
## Take one down and pass it around, 4 bottles of beer on the wall.
## 3 bottle of beer on the wall, 3 bottle of beer.
## Take one down and pass it around, 3 bottles of beer on the wall.
## 2 bottle of beer on the wall, 2 bottle of beer.
## Take one down and pass it around, 2 bottles of beer on the wall.
## 1 bottle of beer on the wall, 1 bottle of beer.
## Take one down and pass it around, 1 bottles of beer on the wall.
## 0 bottle of beer on the wall, 0 bottle of beer.
## Take one down and pass it around, no more bottles of beer on the wall.</code></pre>
</div>
<div id="problem-4-33" class="section level3 unnumbered">
<h3>Problem 4</h3>
<p>It’s common to see for loops that don’t preallocate the output and instead increase the length of a vector at each step:</p>
<pre><code>output &lt;- vector(&quot;integer&quot;, 0)
for (i in seq_along(x)) {
  output &lt;- c(output, lengths(x[[i]]))
}
output</code></pre>
<p>How does this affect performance? Design and execute an experiment.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(microbenchmark)

grow_vector &lt;-<span class="st"> </span><span class="cf">function</span>() {
  
  <span class="co"># create a character vector</span>
  x &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;abc&quot;</span>, <span class="dv">1000</span>)
  
  <span class="co"># create an empty vector of length 0 for the output</span>
  output &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;integer&quot;</span>, <span class="dv">0</span>)
  
  <span class="co"># find the length of each observation in x and grow and concatenate it to </span>
  <span class="co"># output</span>
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(x)) {
    output &lt;-<span class="st"> </span><span class="kw">c</span>(output, <span class="kw">lengths</span>(x[[i]]))
  }
  output
}

<span class="kw">microbenchmark</span>(<span class="kw">grow_vector</span>())</code></pre></div>
<pre><code>## Unit: milliseconds
##           expr      min       lq    mean   median       uq      max neval
##  grow_vector() 1.867523 2.053598 3.22277 2.756735 3.565339 22.35156   100</code></pre>
<p>This first chunk grows a vector from length zero to length 1,000.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">preallocate_vector &lt;-<span class="st"> </span><span class="cf">function</span>() {
  
  <span class="co"># create a character vector  </span>
  x &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;abc&quot;</span>, <span class="dv">1000</span>)
  
  <span class="co"># create an empty vector of length length(x) for the output</span>
  output &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;integer&quot;</span>, <span class="kw">length</span>(x))
  
  <span class="co"># find the length of each observation in x and assignment it the corresponding</span>
  <span class="co"># location in the output vector</span>
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(x)) {
    output[i] &lt;-<span class="st"> </span><span class="kw">lengths</span>(x[[i]])
  }
  output
}

<span class="kw">microbenchmark</span>(<span class="kw">preallocate_vector</span>())</code></pre></div>
<pre><code>## Unit: microseconds
##                  expr     min      lq     mean   median       uq      max
##  preallocate_vector() 610.026 648.247 771.9045 666.4425 714.0675 5742.906
##  neval
##    100</code></pre>
<p>This second chunk preallocates the space in the vector and then populates it. It is an order of magnitude faster.</p>
</div>
</div>
<div id="for-loop-variations" class="section level2 unnumbered">
<h2>21.3 - For loop variations</h2>
<div id="problem-1-53" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Imagine you have a directory full of CSV files that you want to read in. You have their paths in a vector, <code>files &lt;- dir(&quot;data/&quot;, pattern = &quot;\\.csv$&quot;, full.names = TRUE)</code>, and now want to read each one with <code>read_csv()</code>. Write the for loop that will load them into a single data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)

files &lt;-<span class="st"> </span><span class="kw">dir</span>(<span class="st">&quot;data/&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.csv$&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)

data &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="kw">length</span>(files))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(files)) {
  data[[i]] &lt;-<span class="st"> </span><span class="kw">read_csv</span>(files[[i]])
}

<span class="kw">bind_rows</span>(data)</code></pre></div>
</div>
<div id="problem-2-52" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>What happens if you use <code>for (nm in names(x))</code> and <code>x</code> has no names?</p>
<p>Nothing, it doesn’t iterate.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)

<span class="cf">for</span> (nm <span class="cf">in</span> <span class="kw">names</span>(x)) {
  <span class="kw">print</span>(<span class="kw">names</span>(x[nm]))
}</code></pre></div>
<p>What if only some of the elements are named?</p>
<p>It iterates along the entire vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span> =<span class="st"> </span><span class="dv">1</span>, <span class="dv">2</span>, <span class="st">&quot;c&quot;</span> =<span class="st"> </span><span class="dv">3</span>)

<span class="cf">for</span> (nm <span class="cf">in</span> <span class="kw">names</span>(x)) {
  <span class="kw">print</span>(<span class="kw">names</span>(x[nm]))
}</code></pre></div>
<pre><code>## [1] &quot;a&quot;
## [1] NA
## [1] &quot;c&quot;</code></pre>
<p>What if the names are not unique?</p>
<p>It does not matter. It still iterates along the entire vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span> =<span class="st"> </span><span class="dv">1</span>, <span class="st">&quot;a&quot;</span> =<span class="st"> </span><span class="dv">2</span>, <span class="st">&quot;c&quot;</span> =<span class="st"> </span><span class="dv">3</span>)

<span class="cf">for</span> (nm <span class="cf">in</span> <span class="kw">names</span>(x)) {
  <span class="kw">print</span>(<span class="kw">names</span>(x[nm]))
}</code></pre></div>
<pre><code>## [1] &quot;a&quot;
## [1] &quot;a&quot;
## [1] &quot;c&quot;</code></pre>
</div>
<div id="problem-3-43" class="section level3 unnumbered">
<h3>Problem 3</h3>
<p>Write a function that prints the mean of each numeric column in a data frame, along with its name. For example, <code>show_mean(iris)</code> would print:</p>
<pre><code>show_mean(iris)
#&gt; Sepal.Length: 5.84
#&gt; Sepal.Width:  3.06
#&gt; Petal.Length: 3.76
#&gt; Petal.Width:  1.20</code></pre>
<p>(Extra challenge: what function did I use to make sure that the numbers lined up nicely, even though the variable names had different lengths?)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">print_means &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">data =</span> iris, <span class="dt">digits =</span> <span class="dv">2</span>) {

  max_str_length &lt;-<span class="st"> </span><span class="kw">max</span>(<span class="kw">str_length</span>(<span class="kw">names</span>(data)))
  
    <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(data)) {
    
    <span class="cf">if</span> (<span class="kw">is.numeric</span>(data[[i]])) {
      <span class="kw">cat</span>(<span class="st">&quot;#&gt; &quot;</span>, 
          <span class="kw">str_pad</span>(<span class="kw">str_c</span>(<span class="kw">names</span>(data)[[i]], <span class="st">&quot;: &quot;</span>), <span class="dt">width =</span> max_str_length <span class="op">+</span><span class="st"> </span><span class="dv">2</span>, <span class="dt">side =</span> <span class="st">&quot;right&quot;</span>), 
          <span class="kw">format</span>(<span class="kw">mean</span>(data[[i]]), <span class="dt">digits =</span> digits, <span class="dt">nsmall =</span> <span class="dv">2</span>),
          <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,
          <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    }
  }
}

<span class="kw">print_means</span>()</code></pre></div>
<pre><code>## #&gt; Sepal.Length: 5.84
## #&gt; Sepal.Width:  3.06
## #&gt; Petal.Length: 3.76
## #&gt; Petal.Width:  1.20</code></pre>
</div>
<div id="problem-4-34" class="section level3 unnumbered">
<h3>Problem 4</h3>
<p>What does this code do? How does it work?</p>
<pre><code>trans &lt;- list( 
  disp = function(x) x * 0.0163871,
  am = function(x) {
    factor(x, labels = c(&quot;auto&quot;, &quot;manual&quot;))
  }
)
for (var in names(trans)) {
  mtcars[[var]] &lt;- trans[[var]](mtcars[[var]])
}</code></pre>
<p>It creates a list of functions. Then it iterates across vectors in the <code>mtcars</code> data set and the correspondingly named function in the <code>trans</code> list. In the end, the variable <code>disp</code> is multiplied by <code>0.0163871</code> and the variable nm is labelled with “auto” and “manual”.</p>
</div>
</div>
<div id="for-loops-vs.functionals" class="section level2 unnumbered">
<h2>21.4 For loops vs. functionals</h2>
<div id="problem-1-54" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Read the documentation for <code>apply()</code>. In the 2d case, what two for loops does it generalise?</p>
<p>It generalizes a for loop along a vector inside of a for loop along a series of columns in a data frame or matrix.</p>
</div>
<div id="problem-2-53" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>Adapt <code>col_summary()</code> so that it only applies to numeric columns You might want to start with an <code>is_numeric()</code> function that returns a logical vector that has a TRUE corresponding to each numeric column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">col_summary &lt;-<span class="st"> </span><span class="cf">function</span>(df, fun) {
  
  out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="kw">length</span>(df))
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(df)) {
    <span class="cf">if</span> (<span class="kw">is_numeric</span>(df[[i]])) {
      out[i] &lt;-<span class="st"> </span><span class="kw">fun</span>(df[[i]])
    }
  }
  out
}

<span class="kw">col_summary</span>(mtcars, median)</code></pre></div>
<pre><code>##  [1]  19.200   6.000 196.300 123.000   3.695   3.325  17.710   0.000
##  [9]   0.000   4.000   2.000</code></pre>
</div>
</div>
<div id="the-map-functions" class="section level2 unnumbered">
<h2>21.5 The map functions</h2>
<div id="problem-1-55" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Write code that uses one of the map functions to:</p>
<p>Compute the mean of every column in mtcars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map_dbl</span>(mean)</code></pre></div>
<pre><code>##        mpg        cyl       disp         hp       drat         wt 
##  20.090625   6.187500 230.721875 146.687500   3.596563   3.217250 
##       qsec         vs         am       gear       carb 
##  17.848750   0.437500   0.406250   3.687500   2.812500</code></pre>
<p>Determine the type of each column in nycflights13::flights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(nycflights13)

flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map_chr</span>(typeof)</code></pre></div>
<pre><code>##           year          month            day       dep_time sched_dep_time 
##      &quot;integer&quot;      &quot;integer&quot;      &quot;integer&quot;      &quot;integer&quot;      &quot;integer&quot; 
##      dep_delay       arr_time sched_arr_time      arr_delay        carrier 
##       &quot;double&quot;      &quot;integer&quot;      &quot;integer&quot;       &quot;double&quot;    &quot;character&quot; 
##         flight        tailnum         origin           dest       air_time 
##      &quot;integer&quot;    &quot;character&quot;    &quot;character&quot;    &quot;character&quot;       &quot;double&quot; 
##       distance           hour         minute      time_hour 
##       &quot;double&quot;       &quot;double&quot;       &quot;double&quot;       &quot;double&quot;</code></pre>
<p>Compute the number of unique values in each column of iris.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map_int</span>(<span class="op">~</span><span class="kw">length</span>(<span class="kw">unique</span>(.)))</code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
##           35           23           43           22            3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map</span>(rnorm, <span class="dt">n =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>## [[1]]
##  [1]  -9.065648 -10.704343  -9.707397 -10.416879 -10.362859 -10.473410
##  [7] -10.049273  -8.601976 -10.151722  -9.518969
## 
## [[2]]
##  [1]  0.210845194  0.620974646  0.220459853  0.278875913  0.003617283
##  [6]  0.940772933 -0.350757276  0.377905648 -0.525865509  1.574778261
## 
## [[3]]
##  [1] 11.008693  8.757225 10.164525 11.187652 10.100596 10.677929  9.566846
##  [8]  9.175875 10.218792  9.392930
## 
## [[4]]
##  [1]  99.39022  99.41616 100.83423 100.52258 101.05746  99.21127  98.54773
##  [8]  99.72452  99.36030 100.25473</code></pre>
</div>
<div id="problem-2-54" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>How can you create a single vector that for each column in a data frame indicates whether or not it’s a factor?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">map_lgl</span>(is.factor)</code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
##        FALSE        FALSE        FALSE        FALSE         TRUE</code></pre>
</div>
<div id="problem-3-44" class="section level3 unnumbered">
<h3>Problem 3</h3>
<p>What happens when you use the map functions on vectors that aren’t lists? What does <code>map(1:5, runif)</code> do? Why?</p>
<p>It iterates the function across each value in the vector. Here, <code>1:5</code> are treated as the argument <code>n</code>, so each iteration draws <code>n</code> values from the standard normal distribution.</p>
</div>
<div id="problem-4-35" class="section level3 unnumbered">
<h3>Problem 4</h3>
<p>What does <code>map(-2:2, rnorm, n = 5)</code> do? Why? What does <code>map_dbl(-2:2, rnorm, n = 5)</code> do? Why?</p>
<p><code>map(-2:2, rnorm, n = 5)</code> returns a list with five vectors of length five with values draw from the standard normal distribution with means ranging from -2 to 2.</p>
<p><code>map_dbl(-2:2, rnorm, n = 5)</code> returns the error <code>Error: Result 1 is not a length 1 atomic vector</code> because vectors can’t be nested inside of vectors.</p>
<p>The first works because <code>map()</code> returns a list and the second doesn’t work because <code>map_dbl()</code> returns a vector.</p>
</div>
<div id="problem-5-21" class="section level3 unnumbered">
<h3>Problem 5</h3>
<p>Rewrite <code>map(x, function(df) lm(mpg ~ wt, data = df))</code> to eliminate the anonymous function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">split</span>(.<span class="op">$</span>cyl)

<span class="kw">map</span>(x, <span class="op">~</span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>wt, <span class="dt">data =</span> .))</code></pre></div>
<pre><code>## $`4`
## 
## Call:
## lm(formula = mpg ~ wt, data = .)
## 
## Coefficients:
## (Intercept)           wt  
##      39.571       -5.647  
## 
## 
## $`6`
## 
## Call:
## lm(formula = mpg ~ wt, data = .)
## 
## Coefficients:
## (Intercept)           wt  
##       28.41        -2.78  
## 
## 
## $`8`
## 
## Call:
## lm(formula = mpg ~ wt, data = .)
## 
## Coefficients:
## (Intercept)           wt  
##      23.868       -2.192</code></pre>
</div>
</div>
<div id="other-patterns-of-for-loops" class="section level2 unnumbered">
<h2>21.9 Other patterns of for loops</h2>
<div id="problem-1-56" class="section level3 unnumbered">
<h3>Problem 1</h3>
<p>Implement your own version of <code>every()</code> using a for loop. Compare it with <code>purrr::every()</code>. What does purrr’s version do that your version doesn’t?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="kw">rep</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">5</span>), <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)

x <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">every</span>(is_vector)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_every &lt;-<span class="st"> </span><span class="cf">function</span>(df, fun) {
  out &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;logical&quot;</span>, <span class="kw">length</span>(x))
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(df)) {
    out[[i]] &lt;-<span class="st"> </span><span class="kw">fun</span>(df[[i]])
  }
  <span class="op">!</span><span class="ot">FALSE</span> <span class="op">%in%</span><span class="st"> </span>out
}

x <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">my_every</span>(is.numeric)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">every</code></pre></div>
<pre><code>## function (.x, .p, ...) 
## {
##     .p &lt;- as_mapper(.p, ...)
##     for (i in seq_along(.x)) {
##         val &lt;- .p(.x[[i]], ...)
##         if (is_false(val)) 
##             return(FALSE)
##         if (anyNA(val)) 
##             return(NA)
##     }
##     TRUE
## }
## &lt;environment: namespace:purrr&gt;</code></pre>
<p><code>purrr:every()</code> is clever. It doesn’t create a vector and store output. Instead, it tests every object and then returns a FALSE when the first vector fails the test. This is more efficient than my code.</p>
</div>
<div id="problem-2-55" class="section level3 unnumbered">
<h3>Problem 2</h3>
<p>Create an enhanced <code>col_sum()</code> that applies a summary function to every numeric column in a data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">col_sum &lt;-<span class="st"> </span><span class="cf">function</span>(df, fun) {
  is_num &lt;-<span class="st"> </span><span class="kw">map_lgl</span>(df, is.numeric)
  
  df_num &lt;-<span class="st"> </span>df[, is_num]
  
  <span class="kw">map_dbl</span>(df_num, fun)
}

<span class="kw">col_sum</span>(mpg, mean)</code></pre></div>
<pre><code>##       displ        year         cyl         cty         hwy 
##    3.471795 2003.500000    5.888889   16.858974   23.440171</code></pre>
</div>
<div id="problem-3-45" class="section level3 unnumbered">
<h3>Problem 3</h3>
<p>A possible base R equivalent of <code>col_sum()</code> is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">col_sum3 &lt;-<span class="st"> </span><span class="cf">function</span>(df, f) {
  is_num &lt;-<span class="st"> </span><span class="kw">sapply</span>(df, is.numeric)
  df_num &lt;-<span class="st"> </span>df[, is_num]

  <span class="kw">sapply</span>(df_num, f)
}</code></pre></div>
<p>But it has a number of bugs as illustrated with the following inputs:</p>
<pre><code>df &lt;- tibble(
  x = 1:3, 
  y = 3:1,
  z = c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
)
# OK
col_sum3(df, mean)
# Has problems: don&#39;t always return numeric vector</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">tibble</span>(
  <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, 
  <span class="dt">y =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">1</span>,
  <span class="dt">z =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)
)

<span class="kw">col_sum3</span>(df[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], mean)</code></pre></div>
<pre><code>## x y 
## 2 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">col_sum3</span>(df[<span class="dv">1</span>], mean)</code></pre></div>
<pre><code>## x 
## 2</code></pre>
<pre><code>col_sum3(df[0], mean)</code></pre>
<p>The first two “problem cases” run fine. The third problem case has an issue because <code>Error: Unsupported index type: list</code>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter-20-vectors.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
